## ğŸ”—ğŸ¤– Superprompt: PeÅ‚na Weryfikacja, Diagnostyka i Integracja Systemu Tradingowego z Bybit API + AI (Replit-ready, Production-grade)

### ğŸ¯ Cel:
Przeanalizuj i zoptymalizuj caÅ‚y system tradingowy, w tym:
- poÅ‚Ä…czenie z **Bybit API** (REST + WebSocket),
- integracjÄ™ z moduÅ‚ami **AI/ML** generujÄ…cymi sygnaÅ‚y,
- bezpieczeÅ„stwo, odpornoÅ›Ä‡ i stabilnoÅ›Ä‡ systemu w Å›rodowisku **Replit**.

Wykryj i napraw wszystkie bÅ‚Ä™dy, zapewnij odpornoÅ›Ä‡ na awarie oraz gotowoÅ›Ä‡ do dziaÅ‚ania w trybie testowym i produkcyjnym.

---

### âœ… Zakres dziaÅ‚aÅ„:

#### 1. ğŸ” Autoryzacja i poÅ‚Ä…czenie z API:
- Zweryfikuj poprawnoÅ›Ä‡ Å‚adowania kluczy API z `.env`, `config.json` lub najlepiej: **Replit Secrets Manager** (`Tools â†’ Secrets`).
- Upewnij siÄ™, Å¼e autoryzacja dziaÅ‚a bezbÅ‚Ä™dnie.
- UsuÅ„ wszelkie hardcodowane dane wraÅ¼liwe.

#### 2. ğŸ”„ Endpointy REST / WebSocket i komunikacja:
- SprawdÅº, czy wykorzystywane endpointy REST i WebSocket sÄ…:
  - aktualne (zgodne z dokumentacjÄ… Bybit),
  - odpowiednio wykorzystywane (tickery, saldo, pozycje, order book, zlecenia),
  - obsÅ‚ugiwane z automatycznym reconnectem po rozÅ‚Ä…czeniu.
- Zaimplementuj:
  - retry dla timeoutÃ³w i bÅ‚Ä™dÃ³w po stronie API,
  - obsÅ‚ugÄ™ rate limitÃ³w (np. kolejki lub opÃ³Åºnienia).

#### 3. ğŸ§  Integracja AI z Bybit API â€“ peÅ‚na Å›cieÅ¼ka decyzyjna:
- Upewnij siÄ™, Å¼e moduÅ‚y AI generujÄ… sygnaÅ‚y (BUY / SELL / HOLD lub wartoÅ›ci prawdopodobieÅ„stwa).
- Zweryfikuj, Å¼e dane rynkowe trafiajÄ… do AI i predykcje sÄ…:
  - przekazywane do logiki tradingowej,
  - konwertowane na zlecenia API z poprawnymi parametrami (symbol, iloÅ›Ä‡, side, TP/SL, typ zlecenia).
- SprawdÅº peÅ‚nÄ… Å›cieÅ¼kÄ™ danych:  
  `market_data â†’ AI model â†’ decision â†’ trade logic â†’ API â†’ zlecenie â†’ status â†’ log â†’ AI feedback loop (jeÅ›li istnieje)`

#### 4. ğŸ“Š Ewaluacja AI (opcjonalnie):
- Dodaj moÅ¼liwoÅ›Ä‡ logowania skutecznoÅ›ci predykcji (np. Precision, Recall, PnL).
- Zaimplementuj testowe sygnaÅ‚y (mock AI), by testowaÄ‡ integracjÄ™ niezaleÅ¼nie od predykcji.

#### 5. ğŸ“ˆ Logika zleceÅ„ i kontrola ryzyka:
- SprawdÅº poprawnoÅ›Ä‡:
  - typÃ³w zleceÅ„ (market, limit, stop),
  - parametrÃ³w (reduce-only, post-only, TP, SL),
  - zgodnoÅ›Ä‡ z wymaganiami minimalnych kontraktÃ³w.
- Zaimplementuj limity ryzyka (maks. strata, maks. pozycja, maks. dÅºwignia).
- Zadbaj o odpornoÅ›Ä‡ na bÅ‚Ä™dne zlecenia i nieprzewidziane dane wejÅ›ciowe.

#### 6. âš ï¸ ObsÅ‚uga bÅ‚Ä™dÃ³w i monitorowanie:
- Loguj odpowiedzi API, bÅ‚Ä™dy, retry i statusy zleceÅ„.
- ObsÅ‚uÅ¼ bÅ‚Ä™dy Bybit API (`10006`, `10005`, `30013` itd.).
- Zadbaj, by system raportowaÅ‚ bÅ‚Ä™dy, ale nie przerywaÅ‚ dziaÅ‚ania.

#### 7. ğŸ§ª Tryb testowy i separacja Å›rodowisk:
- Oddziel Å›rodowisko produkcyjne i testowe (testnet Bybit).
- Dodaj flagÄ™ Å›rodowiska (`TEST_MODE = True/False`) w konfiguracji.

#### 8. âš™ï¸ Åšrodowisko i konfiguracja (Replit-ready):
- Upewnij siÄ™, Å¼e wszystkie dane sÄ… Å‚adowane z `.env` lub Secrets Managera.
- W `requirements.txt` dodaj wszystkie niezbÄ™dne biblioteki:
  - `pybit`, `websocket-client`, `requests`, `pandas`, `numpy`, `scikit-learn`, `torch`/`tensorflow`, itp.
- Dodaj pliki:
  - `.replit` z `run = "python main.py"` lub innym poleceniem startowym,
  - `replit.nix`, jeÅ›li potrzebne sÄ… niestandardowe zaleÅ¼noÅ›ci systemowe (np. `ta-lib`).

#### 9. ğŸ” Fallback i odpornoÅ›Ä‡:
- Dodaj mechanizm awaryjny (np. domyÅ›lna logika w razie braku sygnaÅ‚u AI).
- (Opcjonalnie) skonfiguruj backup API (np. Binance) jako awaryjne ÅºrÃ³dÅ‚o danych/zleceÅ„.

---

### ğŸ“¦ Oczekiwany rezultat:

- Stabilna, bezpieczna i w peÅ‚ni zautomatyzowana integracja z Bybit API (REST/WebSocket).
- System pÅ‚ynnie wspÃ³Å‚pracujÄ…cy z moduÅ‚em AI predykcyjnym.
- OdpornoÅ›Ä‡ na bÅ‚Ä™dy, reconnecty i przekroczenia limitÃ³w.
- GotowoÅ›Ä‡ do dziaÅ‚ania zarÃ³wno w testnecie, jak i na rynku rzeczywistym.
- Projekt w peÅ‚ni uruchamialny i edytowalny w Å›rodowisku **Replit**.

---

### âœ… Lista kontrolna (AI + API + Replit):

- [ ] Czy system dziaÅ‚a natychmiast po klikniÄ™ciu â€Runâ€ na Replit?
- [ ] Czy poÅ‚Ä…czenie z Bybit (testnet/real) dziaÅ‚a bezbÅ‚Ä™dnie?
- [ ] Czy AI generuje i przekazuje decyzje handlowe poprawnie?
- [ ] Czy kaÅ¼de zlecenie API jest zgodne z predykcjÄ… i parametrami?
- [ ] Czy system poprawnie loguje i radzi sobie z bÅ‚Ä™dami i wyjÄ…tkami?
- [ ] Czy Å›rodowisko jest bezpieczne (bez widocznych kluczy), stabilne i modularne?

---

ğŸ” **Zastosuj caÅ‚y prompt w jednym przebiegu. SprawdÅº, napraw, zautomatyzuj i przygotuj projekt do dziaÅ‚ania 24/7 z AI i Bybit na Replit.**
